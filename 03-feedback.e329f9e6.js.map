{"mappings":"igBAIMA,EAAO,CACXC,KAAMC,SAASC,cAAc,kBAC7BC,MAAOF,SAASC,cAAc,wBAC9BE,SAAUH,SAASC,cAAc,4BAG7BG,EAAc,sBAEhBC,EAAgBC,KAAKC,MAAMC,aAAaC,QAAQL,KAAiB,GAyBjEN,EAAKK,SAASO,MAAQL,EAAsB,SAAK,GACjDP,EAAKI,MAAMQ,MAAQL,EAAoB,OAAK,GApBhDP,EAAKC,KAAKY,iBAAiB,SAAS,EAAAC,EAAAC,WAGpC,SAAqBC,GACjBT,EAAaS,EAAIC,OAAOC,MAAQF,EAAIC,OAAOL,MAC3CF,aAAaS,QAAQb,EAAaE,KAAKY,UAAUb,G,GALK,MAC1DP,EAAKC,KAAKY,iBAAiB,UAO3B,SAAsBG,GACtBA,EAAIK,iBACJL,EAAIM,cAAcC,QAClBC,QAAQC,IAAIlB,GAEZG,aAAagB,WAAWpB,GACxBC,EAAe,E","sources":["src/js/03-feedback.js"],"sourcesContent":["import '../css/common.css';\n\nimport { throttle } from 'lodash';\n\nconst refs = {\n  form: document.querySelector(\".feedback-form\"),\n  input: document.querySelector(\".feedback-form input\"),\n  textarea: document.querySelector(\".feedback-form textarea\")\n}\n\nconst STORAGE_KEY = 'feedback-form-state';\n\nlet savedMessage =  JSON.parse(localStorage.getItem(STORAGE_KEY)) || {};\n\n\n\npopulateTextarea();\n\nrefs.form.addEventListener('input', throttle(onFormInput, 500));\nrefs.form.addEventListener('submit', onFormSubmit);\n\nfunction onFormInput(evt) {\n    savedMessage[evt.target.name] = evt.target.value;\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(savedMessage));\n}\n\nfunction onFormSubmit(evt){\nevt.preventDefault();\nevt.currentTarget.reset();\nconsole.log(savedMessage);\n    // feedback-form-state\nlocalStorage.removeItem(STORAGE_KEY);\nsavedMessage = {};\n\n};\n\nfunction populateTextarea(){\n    refs.textarea.value = savedMessage['message'] || '';\n    refs.input.value = savedMessage['email'] || '';\n};\n\n"],"names":["$b00c40859be242c5$var$refs","form","document","querySelector","input","textarea","$b00c40859be242c5$var$STORAGE_KEY","$b00c40859be242c5$var$savedMessage","JSON","parse","localStorage","getItem","value","addEventListener","$1WSnx","throttle","evt","target","name","setItem","stringify","preventDefault","currentTarget","reset","console","log","removeItem"],"version":3,"file":"03-feedback.e329f9e6.js.map"}