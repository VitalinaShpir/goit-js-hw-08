{"mappings":"qfAIA,MAAMA,EAAO,CACXC,KAAMC,SAASC,cAAc,kBAC7BC,MAAOF,SAASC,cAAc,wBAC9BE,SAAUH,SAASC,cAAc,4BAK7BG,EAAW,IAoBjB,WACA,MAAMC,EAAgBC,KAAKC,MAAMC,aAAaC,QAvB1B,wBAyBhBJ,IACAP,EAAKK,SAASO,MAAQL,EAAsB,SAAK,GACjDP,EAAKI,MAAMQ,MAAQL,EAAoB,OAAK,G,CAvBhDM,GAEAb,EAAKC,KAAKa,iBAAiB,UAAU,EAAAC,EAAAC,WAMrC,SAAsBC,GACtBA,EAAIC,iBACJD,EAAIE,cAAcC,QAElBV,aAAaW,WAhBO,sB,GAMwC,MAE5DrB,EAAKC,KAAKa,iBAAiB,SAASQ,IAChChB,EAASgB,EAAEC,OAAOC,MAAQF,EAAEC,OAAOX,MACnCF,aAAae,QAVG,sBAUkBjB,KAAKkB,UAAUpB,GAAU,IAqB/DqB,QAAQC,IAAI","sources":["src/js/03-feedback.js"],"sourcesContent":["import '../css/common.css';\n\nimport { throttle } from 'lodash';\n\nconst refs = {\n  form: document.querySelector(\".feedback-form\"),\n  input: document.querySelector(\".feedback-form input\"),\n  textarea: document.querySelector(\".feedback-form textarea\")\n}\n\nconst STORAGE_KEY = 'feedback-form-state';\n\nconst formData = {};\n\npopulateTextarea();\n\nrefs.form.addEventListener('submit', throttle(onFormSubmit, 500));\n\nrefs.form.addEventListener('input', e => {\n    formData[e.target.name] = e.target.value;\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(formData));\n})\nfunction onFormSubmit(evt){\nevt.preventDefault();\nevt.currentTarget.reset();\n    // feedback-form-state\nlocalStorage.removeItem(STORAGE_KEY);\n\n};\n\n\n\nfunction populateTextarea(){\nconst savedMessage =  JSON.parse(localStorage.getItem(STORAGE_KEY));\n\nif (savedMessage) {\n    refs.textarea.value = savedMessage['message'] || '';\n    refs.input.value = savedMessage['email'] || '';\n}\n};\n\nconsole.log('hello')"],"names":["$945622fd0f572e60$var$refs","form","document","querySelector","input","textarea","$945622fd0f572e60$var$formData","savedMessage","JSON","parse","localStorage","getItem","value","$945622fd0f572e60$var$populateTextarea","addEventListener","$kEUo3","throttle","evt","preventDefault","currentTarget","reset","removeItem","e","target","name","setItem","stringify","console","log"],"version":3,"file":"03-feedback.7c1e1ff4.js.map"}