{"mappings":"qfAIA,MAAMA,EAAO,CACXC,KAAMC,SAASC,cAAc,kBAC7BC,MAAOF,SAASC,cAAc,wBAC9BE,SAAUH,SAASC,cAAc,4BAKnC,IAAIG,EAAgBC,KAAKC,MAAMC,aAAaC,QAFxB,yBAEiD,GA+BjEV,EAAKK,SAASM,MAAQL,EAAsB,SAAK,GACjDN,EAAKI,MAAMO,MAAQL,EAAoB,OAAK,GA1BhDN,EAAKC,KAAKW,iBAAiB,SAAS,EAAAC,EAAAC,WAGpC,SAAqBC,GACjBT,EAAaS,EAAIC,OAAOC,MAAQF,EAAIC,OAAOL,MAC3CF,aAAaS,QAbG,sBAakBX,KAAKY,UAAUb,G,GALK,MAC1DN,EAAKC,KAAKW,iBAAiB,UAO3B,SAAsBG,GAClB,IAAIf,EAAKI,MAAMO,QAASX,EAAKK,SAASM,MASlC,OAAOS,MAAM,4BARbL,EAAIM,iBACJN,EAAIO,cAAcC,QAClBC,QAAQC,IAAInB,GAEZG,aAAaiB,WAtBD,uBAuBZpB,EAAe,E","sources":["src/js/03-feedback.js"],"sourcesContent":["import '../css/common.css';\n\nimport { throttle } from 'lodash';\n\nconst refs = {\n  form: document.querySelector(\".feedback-form\"),\n  input: document.querySelector(\".feedback-form input\"),\n  textarea: document.querySelector(\".feedback-form textarea\")\n}\n\nconst STORAGE_KEY = 'feedback-form-state';\n\nlet savedMessage =  JSON.parse(localStorage.getItem(STORAGE_KEY)) || {};\n\n\n\npopulateTextarea();\n\nrefs.form.addEventListener('input', throttle(onFormInput, 500));\nrefs.form.addEventListener('submit', onFormSubmit);\n\nfunction onFormInput(evt) {\n    savedMessage[evt.target.name] = evt.target.value;\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(savedMessage));\n}\n\nfunction onFormSubmit(evt){\n    if (refs.input.value && refs.textarea.value) {\n        evt.preventDefault();\n        evt.currentTarget.reset();\n        console.log(savedMessage);\n            // feedback-form-state\n        localStorage.removeItem(STORAGE_KEY);\n        savedMessage = {};  \n    }\n    else {\n        return alert(\"Please, fill all fields!\")\n    }\n\n\n};\n\nfunction populateTextarea(){\n    refs.textarea.value = savedMessage['message'] || '';\n    refs.input.value = savedMessage['email'] || '';\n};\n\n"],"names":["$945622fd0f572e60$var$refs","form","document","querySelector","input","textarea","$945622fd0f572e60$var$savedMessage","JSON","parse","localStorage","getItem","value","addEventListener","$kEUo3","throttle","evt","target","name","setItem","stringify","alert","preventDefault","currentTarget","reset","console","log","removeItem"],"version":3,"file":"03-feedback.0d26a715.js.map"}