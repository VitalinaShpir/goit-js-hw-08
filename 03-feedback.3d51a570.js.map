{"mappings":"qfAIA,MAAMA,EAAO,CACXC,KAAMC,SAASC,cAAc,kBAC7BC,MAAOF,SAASC,cAAc,wBAC9BE,SAAUH,SAASC,cAAc,4BAKnC,IAAIG,EAAgBC,KAAKC,MAAMC,aAAaC,QAFxB,yBAEiD,GAyBjEV,EAAKK,SAASM,MAAQL,EAAsB,SAAK,GACjDN,EAAKI,MAAMO,MAAQL,EAAoB,OAAK,GApBhDN,EAAKC,KAAKW,iBAAiB,SAAS,EAAAC,EAAAC,WAGpC,SAAqBC,GACjBT,EAAaS,EAAIC,OAAOC,MAAQF,EAAIC,OAAOL,MAC3CF,aAAaS,QAbG,sBAakBX,KAAKY,UAAUb,G,GALK,MAC1DN,EAAKC,KAAKW,iBAAiB,UAO3B,SAAsBG,GACtBA,EAAIK,iBACJL,EAAIM,cAAcC,QAClBC,QAAQC,IAAIlB,GAEZG,aAAagB,WArBO,uBAsBpBnB,EAAe,E","sources":["src/js/03-feedback.js"],"sourcesContent":["import '../css/common.css';\n\nimport { throttle } from 'lodash';\n\nconst refs = {\n  form: document.querySelector(\".feedback-form\"),\n  input: document.querySelector(\".feedback-form input\"),\n  textarea: document.querySelector(\".feedback-form textarea\")\n}\n\nconst STORAGE_KEY = 'feedback-form-state';\n\nlet savedMessage =  JSON.parse(localStorage.getItem(STORAGE_KEY)) || {};\n\n\n\npopulateTextarea();\n\nrefs.form.addEventListener('input', throttle(onFormInput, 500));\nrefs.form.addEventListener('submit', onFormSubmit);\n\nfunction onFormInput(evt) {\n    savedMessage[evt.target.name] = evt.target.value;\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(savedMessage));\n}\n\nfunction onFormSubmit(evt){\nevt.preventDefault();\nevt.currentTarget.reset();\nconsole.log(savedMessage);\n    // feedback-form-state\nlocalStorage.removeItem(STORAGE_KEY);\nsavedMessage = {};\n\n};\n\nfunction populateTextarea(){\n    refs.textarea.value = savedMessage['message'] || '';\n    refs.input.value = savedMessage['email'] || '';\n};\n\n"],"names":["$945622fd0f572e60$var$refs","form","document","querySelector","input","textarea","$945622fd0f572e60$var$savedMessage","JSON","parse","localStorage","getItem","value","addEventListener","$kEUo3","throttle","evt","target","name","setItem","stringify","preventDefault","currentTarget","reset","console","log","removeItem"],"version":3,"file":"03-feedback.3d51a570.js.map"}